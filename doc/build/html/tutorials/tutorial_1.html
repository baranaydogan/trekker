<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Tutorial 1: The short trek &#8212; trekker 1.0b documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=12dfc556" />
    <script src="../_static/documentation_options.js?v=c9538944"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tutorial 2: Trekker’s pathways" href="tutorial_2.html" />
    <link rel="prev" title="Where to get trekker?" href="../installation/howToGetAndCite.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="tutorial-1-the-short-trek">
<h1>Tutorial 1: The short trek<a class="headerlink" href="#tutorial-1-the-short-trek" title="Link to this heading">¶</a></h1>
<section id="tracking-with-trekker">
<h2>Tracking with trekker<a class="headerlink" href="#tracking-with-trekker" title="Link to this heading">¶</a></h2>
<p>Trekker does not have a graphical user interface. In order to use it, you need to run the <code class="code docutils literal notranslate"><span class="pre">trekker</span></code> executable in a terminal. Running <code class="code docutils literal notranslate"><span class="pre">trekker</span></code> alone shows the manual for the executable.</p>
<p>The example below shows probably the simplest approach to obtain a whole brain tractogram using trekker.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Tutorial 1 - Example 1</span>
<span class="o">./</span><span class="n">trekker</span> <span class="o">-</span><span class="n">fod</span> <span class="n">FOD</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span> \                <span class="c1"># Input FOD image</span>
          <span class="o">-</span><span class="n">seed_image</span> <span class="n">WHITEMATTER</span><span class="o">.</span><span class="n">nii</span><span class="o">.</span><span class="n">gz</span> \ <span class="c1"># Input seed image</span>
          <span class="o">-</span><span class="n">seed_count</span> <span class="mi">1000</span> \               <span class="c1"># Number of random seeds to generate</span>
          <span class="o">-</span><span class="n">output</span> <span class="n">OUTPUT</span><span class="o">.</span><span class="n">vtk</span>               <span class="c1"># Output</span>
</pre></div>
</div>
<p>Trekker options start with a &quot;-&quot; sign. All parameters and constraints are set using the corresponding option defined in the <a class="reference external" href="../manual/trekker.html">manual</a>. The order of the options does not matter.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Trekker does not require input nifti files to be in the same image space, i.e., spatial dimensions of the FOD image can be 100x100x100 and the seed image can be 128x128x60. As long as images are in the same physical space (based on nifti sform), trekker will handle nifti files with different headers. This is valid also for images used to specify pathway rules.</p>
</div>
<p>Trekker sets all unspecified parameters to default values which are indicated in the <a class="reference external" href="../manual/trekker.html">manual</a>; however the user must provide the following:</p>
<ul class="simple">
<li><p><strong>an FOD image</strong>: specified with option <strong>-fod</strong>,</p></li>
<li><p><strong>a seed image</strong> or <strong>a list of coordinates</strong>: specified with either <strong>-seed_image</strong> or <strong>-seed_coordinates</strong>,</p></li>
<li><p><strong>a seed count</strong>, <strong>seed count per voxel</strong> or <strong>-timeLimit</strong>: if a seed image is specified, <strong>-seed_count</strong> or <strong>-seed_countPerVoxel</strong> options specify the number of streamlines to compute. Trekker generates 1 streamline per seed. If none of the two parameters were specified then <strong>-timeLimit</strong> option must be used to limit the duration of tracking. Tracking stops either when the required number of streamlines are reconstructed or the time limit is reached, whichever comes first. When tracking stops due to time limit, all the streamlines that are computed so far are written to the disk.</p></li>
</ul>
<p>During tracking, trekker displays information on the terminal screen showing the parameters as well as the progress. At the end, an additional output with the same file name as output but with .json ending is saved. This file contains meta-information about the parameters and also the outcome of tracking process. The .json file can be opened using a web browser.</p>
</section>
<section id="visualizing-results">
<h2>Visualizing results<a class="headerlink" href="#visualizing-results" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Trekker saves tractograms in binary formatted <strong>.vtk</strong> files.</p></li>
<li><p>All streamlines are saved in the physical coordinate space (based on sform fetched from the header of input FOD nifti).</p></li>
<li><p>Trekker <strong>.vtk</strong> output can be read using Matlab with the function provided under <code class="code docutils literal notranslate"><span class="pre">extensions/matlab</span></code>.</p></li>
<li><p><strong>.vtk</strong> files can be visualized using several third party software including <a class="reference external" href="https://www.paraview.org/">Paraview</a>, <a class="reference external" href="https://www.slicer.org/">3DSlicer</a> and <a class="reference external" href="http://cabeen.io/qitwiki">Qit</a>.</p></li>
</ul>
<p>Paraview interface is very simple to use and it provides professional 3D rendering capability. Trekker output can be visualized simply by dragging and dropping the <strong>.vtk</strong> file into Paraview window.</p>
<p>Below are examples drawn by Paraview using the trekker command shown in this tutorial applied on the Human Connectome Project subject 100307.</p>
<figure class="align-default" id="id1">
<a class="reference internal image-reference" href="../_images/tut1_0.jpg"><img alt="Paraview rendering 1" src="../_images/tut1_0.jpg" style="width: 555.0px; height: 411.5px;" />
</a>
<figcaption>
<p><span class="caption-text">Paraview by default renders streamlines using a solid (single) color.</span><a class="headerlink" href="#id1" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-default" id="id2">
<a class="reference internal image-reference" href="../_images/tut1_1.jpg"><img alt="Paraview rendering 2" src="../_images/tut1_1.jpg" style="width: 555.0px; height: 411.5px;" />
</a>
<figcaption>
<p><span class="caption-text">It is possible to display tractograms in the familiar direction coded RGB scheme as shown here. With trekker you write the segment colors using the <strong>-writeColors</strong> option. Notice that by default colors are not written in order to save hard drive space. To show the segment colors, please select <em>colors</em> as the coloring option in Paraview and make sure that <strong>Map Scalars</strong> option is <strong>NOT</strong> selected.</span><a class="headerlink" href="#id2" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Trekker can save many other information in the output that can be visualized in Paraview, such as the FOD amplitude along the direction of the segment with <strong>-writeFODamp</strong> option. You can view the other output options by clicking <a class="reference external" href="../manual/trekker.html#output-options">here</a>.</p>
</div>
<figure class="align-default" id="id3">
<a class="reference internal image-reference" href="../_images/tut1_2.jpg"><img alt="Paraview rendering 2" src="../_images/tut1_2.jpg" style="width: 555.0px; height: 411.5px;" />
</a>
<figcaption>
<p><span class="caption-text">Streamlines can also be rendered as tubes with Paraview. For this option go to Filters-&gt;Search-&gt; Write &quot;tube&quot; in the search box and click enter.</span><a class="headerlink" href="#id3" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../index.html">Table of Contents</a></h3>
<p class="caption" role="heading"><span class="caption-text">Download and install</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/howToGetAndCite.html">Where to get trekker?</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/howToGetAndCite.html#test-your-installation">Test your installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/howToGetAndCite.html#extensions">Extensions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Get started</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorial 1: The short trek</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#tracking-with-trekker">Tracking with trekker</a></li>
<li class="toctree-l2"><a class="reference internal" href="#visualizing-results">Visualizing results</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_2.html">Tutorial 2: Trekker’s pathways</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_3.html">Tutorial 3: Python package usage</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../manual/trekker.html">trekker</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tips</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tips/tip1.html">How to set parameters?</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Publications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../publications/publications.html">How to cite?</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/licenseAndWarranty.html">License and warranty</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/acknowledgements.html">Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/contact.html">Contact</a></li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Dogu Baran Aydogan.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.3.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../_sources/tutorials/tutorial_1.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>